[pytest]
# Directorios de tests
testpaths = .

# Patrones de archivos de tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Markers personalizados
markers =
    critical: Tests críticos que bloquean producción
    edge_case: Edge cases específicos del sistema
    slow: Tests que toman más de 5 segundos
    integration: Tests de integración entre servicios
    e2e: Tests end-to-end completos
    regression: Tests de regresión
    performance: Tests de performance y carga
    fast_bonus: Tests del Bono Rápido
    unilevel_bonus: Tests del Bono Uninivel
    achievement_bonus: Tests del Bono por Alcance
    matching_bonus: Tests del Bono Matching
    direct_bonus: Tests del Bono Directo
    rank_system: Tests del sistema de rangos
    genealogy: Tests del sistema de genealogía
    currency: Tests de conversión de monedas
    wallet: Tests de wallet
    periods: Tests de períodos

# Opciones por defecto
addopts =
    -v
    --strict-markers
    --tb=short
    --disable-warnings
    --color=yes
    -p no:warnings

# Cobertura de código (opcional)
# addopts = --cov=NNProtect_new_website.modules.network.backend --cov-report=html

# Directorio de cache
cache_dir = .pytest_cache

# Configuración de logging
log_cli = false
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Filtros de warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
